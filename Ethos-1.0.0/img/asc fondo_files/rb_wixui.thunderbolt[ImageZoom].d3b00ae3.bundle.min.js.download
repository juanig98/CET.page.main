!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("@wix/image-kit"),require("react")):"function"==typeof define&&define.amd?define("rb_wixui.thunderbolt[ImageZoom]",["imageClientApi","react"],t):"object"==typeof exports?exports["rb_wixui.thunderbolt[ImageZoom]"]=t(require("@wix/image-kit"),require("react")):e["rb_wixui.thunderbolt[ImageZoom]"]=t(e.__imageClientApi__,e.React)}("undefined"!=typeof self?self:this,(function(e,t){return function(){var a={42662:function(t){"use strict";t.exports=e},5329:function(e){"use strict";e.exports=t},448:function(e){function t(){return e.exports=t=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var i in a)({}).hasOwnProperty.call(a,i)&&(e[i]=a[i])}return e},e.exports.__esModule=!0,e.exports.default=e.exports,t.apply(null,arguments)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}},i={};function n(e){var t=i[e];if(void 0!==t)return t.exports;var r=i[e]={exports:{}};return a[e](r,r.exports,n),r.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var a in t)n.o(t,a)&&!n.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var r={};return function(){"use strict";n.r(r),n.d(r,{components:function(){return ce}});var e=n(448),t=n.n(e),a=n(5329);const i=(e,t=0)=>{let a,i=!1;return function n(...r){i?a=r:(e.apply(this,r),i=!0,setTimeout((()=>{i=!1,a&&(n.apply(this,a),a=null)}),t))}},o=e=>Object.entries(e).reduce(((e,[t,a])=>(t.includes("data-")&&(e[t]=a),e)),{});function l(e){var t,a,i="";if("string"==typeof e||"number"==typeof e)i+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(a=l(e[t]))&&(i&&(i+=" "),i+=a);else for(t in e)e[t]&&(i&&(i+=" "),i+=t);return i}var s=function(){for(var e,t,a=0,i="";a<arguments.length;)(e=arguments[a++])&&(t=l(e))&&(i&&(i+=" "),i+=t);return i};const d=13,c=27,u=37,m=39;function g(e){return t=>{t.keyCode===e&&(t.preventDefault(),t.stopPropagation(),t.currentTarget.click())}}const h=g(32),p=g(d),f=e=>{p(e),h(e)},v=g(c),b=new RegExp("<%= compId %>","g"),x=(e,t)=>e.replace(b,t);var E="HlRz5e",y=n(42662);const{STATIC_MEDIA_URL:M}=y,w=({fittingType:e,src:t,target:a,options:i})=>{const n=y.getPlaceholder(e,t,a,{...i,autoEncode:!0});return n?.uri&&!/^[a-z]+:/.test(n.uri)&&(n.uri=`${M}${n.uri}`),n},I=/^[a-z]+:/;var C=e=>{const{id:t,containerId:i,uri:n,alt:r,name:o="",role:l,width:s,height:d,displayMode:c,devicePixelRatio:u,quality:m,alignType:g,bgEffectName:h="",focalPoint:p,upscaleMethod:f,className:v="",crop:b,imageStyles:x={},targetWidth:y,targetHeight:C,targetScale:k,onLoad:B=(()=>{}),onError:N=(()=>{}),shouldUseLQIP:L,containerWidth:_,containerHeight:P,getPlaceholder:S,isInFirstFold:H,placeholderTransition:T,socialAttrs:W,isSEOBot:A,skipMeasure:O,hasAnimation:j,allowAnimatedTransform:D}=e,R=a.useRef(null);let K="";const z="blur"===T,q=a.useRef(null);if(!q.current)if(S||L||H||A){const e={upscaleMethod:f,...m||{},shouldLoadHQImage:H,isSEOBot:A,hasAnimation:j,allowAnimatedTransform:D};q.current=(S||w)({fittingType:c,src:{id:n,width:s,height:d,crop:b,name:o,focalPoint:p},target:{width:_,height:P,alignment:g,htmlTag:"img"},options:e}),K=!q.current.transformed||H||A?"":"true"}else q.current={uri:void 0,css:{img:{}},attr:{img:{},container:{}},transformed:!1};const F=!A&&(S||L)&&!H&&q.current.transformed,$=a.useMemo((()=>JSON.stringify({containerId:i,...i&&{containerId:i},...g&&{alignType:g},...O&&{skipMeasure:!0},displayMode:c,..._&&{targetWidth:_},...P&&{targetHeight:P},...y&&{targetWidth:y},...C&&{targetHeight:C},...k&&{targetScale:k},isLQIP:F,isSEOBot:A,lqipTransition:T,imageData:{width:s,height:d,uri:n,name:o,displayMode:c,hasAnimation:j,...m&&{quality:m},...u&&{devicePixelRatio:u},...p&&{focalPoint:p},...b&&{crop:b},...f&&{upscaleMethod:f}}})),[i,g,O,c,P,_,y,C,k,F,A,T,s,d,n,o,m,u,p,b,f,j]),Z=q.current,G=Z?.uri,Q=Z?.srcset,U=Z.css?.img,J=`${E} ${v}`;a.useEffect((()=>{const e=R.current;B&&e?.currentSrc&&e?.complete&&B({target:e})}),[]);const V=Z&&!Z?.transformed?`max(${s}px, 100%)`:y?`${y}px`:null;return a.createElement("wow-image",{id:t,class:J,"data-image-info":$,"data-motion-part":"BG_IMG","data-bg-effect-name":h,"data-has-ssr-src":K,"data-animate-blur":!A&&F&&z?"":void 0,style:V?{"--wix-img-max-width":V}:{}},a.createElement("img",{src:G,ref:R,alt:r||"",role:l,style:{...U,...x},onLoad:B,onError:N,width:_||void 0,height:P||void 0,...W,srcSet:H?Q?.dpr?.map((e=>I.test(e)?e:`${M}${e}`)).join(", "):void 0,fetchpriority:H?"high":void 0,loading:!1===H?"lazy":void 0,suppressHydrationWarning:!0}))};const k={root:"linkElement"},B=(e,i)=>{const{href:n,role:r,target:l,rel:s,className:d="",children:c,linkPopupId:u,anchorDataId:m,anchorCompId:g,tabIndex:v,dataTestId:b=k.root,title:x,onClick:E,onDoubleClick:y,onMouseEnter:M,onMouseLeave:w,onFocus:I,onFocusCapture:C,onBlurCapture:B,"aria-live":N,"aria-disabled":L,"aria-label":_,"aria-labelledby":P,"aria-pressed":S,"aria-expanded":H,"aria-describedby":T,"aria-haspopup":W,"aria-current":A,dataPreview:O}=e,j=void 0!==e.activateByKey?e.activateByKey:(e=>e?"SpaceOrEnter":"Space")(u);let D;switch(j){case"Enter":D=p;break;case"Space":D=h;break;case"SpaceOrEnter":D=f;break;default:D=void 0}return void 0!==n?a.createElement("a",t()({},o(e),{"data-testid":b,"data-popupid":u,"data-anchor":m,"data-anchor-comp-id":g,"data-preview":O,href:n||void 0,target:l,role:u?"button":r,rel:s,className:d,onKeyDown:D,"aria-live":N,"aria-disabled":L,"aria-label":_,"aria-labelledby":P,"aria-pressed":S,"aria-expanded":H,"aria-haspopup":W,"aria-describedby":T,"aria-current":A,title:x,onClick:E,onMouseEnter:M,onMouseLeave:w,onDoubleClick:y,onFocus:I,onFocusCapture:C,onBlurCapture:B,ref:i,tabIndex:u?0:v}),c):a.createElement("div",t()({},o(e),{"data-testid":b,"data-preview":O,className:d,tabIndex:v,"aria-label":_,"aria-labelledby":P,"aria-haspopup":W,"aria-disabled":L,"aria-expanded":H,title:x,role:r,onClick:E,onDoubleClick:y,onMouseEnter:M,onMouseLeave:w,ref:i}),c)};var N=a.forwardRef(B);const L="link",_="prev",P="next",S="close",H="closeButton",T="closeIcon",W="nextButton",A="nextIcon",O="prevButton",j="prevIcon",D="root",R={marginTop:0,marginLeft:0,dialogBoxHeight:600,dialogBoxWidth:600,imageContainerWidth:500,imageContainerHeight:500},K={horizontal:0,vertical:85},z=240,q=60,F=function(e,t){void 0===e&&(e=[]);const a=e.findIndex((e=>{let{id:a}=e;return a===t}));return-1!==a?a:0},$=e=>{let{panelHeight:t,screenMeasures:a,dialogBoxPadding:i,...n}=e;const{height:r}=a,o=(e=>{let{imageMeasures:t,maxImageWidth:a,maxImageHeight:i,minBoxWidth:n}=e;const r=a/t.width,o=i/t.height,l=Math.min(r,o);return{width:Math.max(Math.round(t.width*l),n),height:Math.round(t.height*l)}})(n),l=o.width+(i.horizontal||0),s=o.height+t+(i.vertical||0),d=Math.ceil(Math.max((r-s)/2,0));return{marginLeft:i.horizontal/2,marginTop:d,dialogBoxHeight:s,dialogBoxWidth:l,imageContainerWidth:o.width,imageContainerHeight:o.height}};var Z="lQwAgp",G="uuK35W",Q="zcU_VZ",U="i_vvWK",J="JMM2KW",V="YRSSGK",X="XN0hAn",Y="_O9Cuj",ee="dBklX7",te="NB3BVK",ae="fBBrhc",ie="vB9Kfd",ne="Hf5W3Z",re="jOqgDj",oe="P6ZpNH",le="vJh_3i",se="em3A_G";var de=e=>{var n,r;const{id:l,className:d,onClose:g,images:h,selectedImageIndex:p,onImageChangeCallback:f,popupA11yExperimentEnabled:b,translations:E}=e,y=a.useRef(null),M=a.useRef(null),[w,I]=a.useState(R),[k,B]=a.useState(!0),F="img_"+l+"_"+p,de=()=>p+1<h.length?p+1:0,ce=()=>p?p-1:h.length-1,ue=e=>{ge(de(),e)},me=e=>{ge(ce(),e)},ge=(e,t)=>{B(!1),setTimeout((()=>{const a=h[e].id;t&&(t.stopPropagation(),t.preventDefault()),f(a)}),250)},{link:he,title:pe,description:fe,width:ve,height:be}=h[p],xe=()=>{g(!1)};var Ee;a.useEffect((()=>{const e=document.activeElement;return y.current&&y.current.focus(),()=>e&&e.focus()}),[]),Ee=()=>{var e;const t=i(Me,300);return t(),null==(e=window)||e.addEventListener("resize",t),()=>{var e;null==(e=window)||e.removeEventListener("resize",t)}},(0,a.useEffect)(Ee,[]);const ye=e=>{e.target instanceof HTMLAnchorElement||e.stopPropagation()},Me=()=>{var e,t;const a=null==(e=y.current)?void 0:e.getBoundingClientRect(),i=null==(t=M.current)?void 0:t.getBoundingClientRect();if(a){const e={imageMeasures:{width:ve,height:be},screenMeasures:{width:a.width,height:a.height},panelHeight:(null==i?void 0:i.height)||0};I((e=>{const{screenMeasures:t,imageMeasures:a,panelHeight:i}=e,n=K,{width:r,height:o}=t,l=i||20,s=z,d=q/2+l+n.vertical,c=Math.min(a.width,r-s),u=Math.min(a.height,o-d);return $({imageMeasures:a,screenMeasures:t,maxImageWidth:c,maxImageHeight:u,panelHeight:l,minBoxWidth:600,dialogBoxPadding:n})})(e))}},we=h.length>1?{onKeyDown:e=>{switch(e.keyCode){case m:ge(de());break;case u:ge(ce());break;case c:xe()}}}:{onClick:xe},Ie=h.length>1&&(null==(n=h[p])||null==(n=n.link)||!n.linkPopupId)?xe:void 0,Ce=h[p],ke=((e,t)=>t?{"--filter-effect-svg-url":x(t,e)}:{})(F,Ce.filterEffectSvgUrl),Be={id:l,...o(e),className:G,ref:y,onKeyDown:v,"data-testselectedimageindex":p,"data-testid":D,...b?{tabIndex:-1,role:"dialog","aria-modal":!0,...Ce.alt?{"aria-labelledby":Ce.containerId}:{"aria-label":E.expandedLabel}}:{tabIndex:0}},Ne=b?()=>a.createElement("button",{className:J,onKeyDown:v,"data-testid":H,onClick:h.length>1?xe:void 0,"aria-label":E.closeLabel},a.createElement("svg",{viewBox:"0 0 180 180",className:V,"data-testid":T},a.createElement("path",{d:"M5 5 L175 175 M175 5 L5 175"}))):()=>a.createElement("div",{className:J,onKeyDown:v,"data-testid":S,onClick:h.length>1?xe:void 0},a.createElement("svg",{viewBox:"0 0 180 180",className:V,tabIndex:0,role:"button","aria-label":"close","data-testid":T},a.createElement("path",{d:"M5 5 L175 175 M175 5 L5 175"})));return a.createElement("div",t()({className:s(d,Z)},we),a.createElement("div",Be,a.createElement("div",{className:s(Q,{[U]:!k}),style:{maxWidth:w.dialogBoxWidth,maxHeight:w.dialogBoxHeight,marginTop:w.marginTop,"--width":w.imageContainerWidth+"px","--height":w.imageContainerHeight+"px",...ke}},a.createElement(C,t()({},Ce,{onLoad:()=>{B(!0),Me()},className:se,id:"img_"+l+"_"+p,displayMode:"fit",alt:null!=(r=Ce.alt)?r:Ce.title})),a.createElement("div",{className:s(ne,{[U]:!k}),onClick:ye,ref:M},pe&&a.createElement("h3",{itemProp:"name",className:re},pe),fe&&a.createElement("p",{itemProp:"description",className:le},fe),he&&a.createElement(N,t()({},he,{dataTestId:L,className:oe,onClick:Ie}),"Go to link"))),Ne(),h.length>1?b?a.createElement(a.Fragment,null,a.createElement("div",{className:te,onClick:ue,"data-testid":P},a.createElement("button",{className:ie,"aria-label":E.nextLabel,onClick:ue,"data-testid":W},a.createElement("svg",{viewBox:"0 0 180 310","data-testid":A},a.createElement("path",{d:"M10 10 L170 161 M170 150 L10 300"})))),a.createElement("div",{className:ae,onClick:me,"data-testid":_},a.createElement("button",{className:ie,"aria-label":E.previousLabel,onClick:me,"data-testid":O},a.createElement("svg",{viewBox:"0 0 180 310","data-testid":j},a.createElement("path",{d:"M170 10 L10 161 M10 150 L170 300"}))))):a.createElement(a.Fragment,null,a.createElement("div",{className:X,onClick:ue,"data-testid":P},a.createElement("svg",{viewBox:"0 0 180 310",className:ee,tabIndex:0,role:"button","aria-label":"next","data-testid":A},a.createElement("path",{d:"M10 10 L170 161 M170 150 L10 300"}))),a.createElement("div",{className:Y,onClick:me,"data-testid":_},a.createElement("svg",{viewBox:"0 0 180 310",className:ee,tabIndex:0,role:"button","aria-label":"previous","data-testid":j},a.createElement("path",{d:"M170 10 L10 161 M10 150 L170 300"})))):null))};const ce={ImageZoom:{component:e=>{const{id:i,className:n,uri:r,alt:l,name:s,width:d,height:c,displayMode:u,onClose:m,link:g,title:h,images:p,dataItemId:f="",onImageChange:v,popupA11yExperimentEnabled:b,translations:x}=e,E={id:i,containerId:i,uri:r,alt:l,name:s,width:d,height:c,displayMode:u,link:g,title:h},[y,M]=a.useState(f),w=null!=p?p:[E];return a.createElement(de,t()({id:i},o(e),{className:n,images:w,selectedImageIndex:F(w,y),onImageChangeCallback:e=>{M(e),null==v||v(e)},onClose:m,popupA11yExperimentEnabled:b,translations:x}))}}}}(),r}()}));
//# sourceMappingURL=https://static.parastorage.com/services/editor-elements-library/dist/thunderbolt/rb_wixui.thunderbolt[ImageZoom].d3b00ae3.bundle.min.js.map